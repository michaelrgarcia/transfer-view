(()=>{"use strict";var e={};function t(e,t){const o=document.createElement("option");return o.textContent=e,o.value=e,o.setAttribute("data-sending",t),o}function o(e){const t=document.createElement("option");return t.textContent=`Select a ${e}`,t.value="",t.disabled=!0,t.selected=!0,t}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p;const n=document.querySelector("dialog");function r(e){const t=e;t.style.display="block",t.style.opacity=1}function c(e){const t=e;t.style.opacity=0,t.style.display="none"}function s(e){e.forEach((e=>{const t=e;t.style.opacity=.15,t.disabled=!0,t.style.userSelect="none","pointer"===t.style.cursor&&(t.style.cursor="not-allowed")}))}function l(e){e.forEach((e=>{const t=e;t.style.opacity=1,t.disabled=!1,t.style.userSelect="auto","not-allowed"===t.style.cursor&&(t.style.cursor="pointer")}))}function a(e){const t=e,o=t.querySelector("label > img"),n=t.querySelector("select"),r=t.querySelector(".submit");t.setAttribute("id","disabled"),o&&n?(o.setAttribute("id","disabled"),n.classList.add("disabled-input"),n.disabled=!0):r&&(r.setAttribute("id","disabled"),r.disabled=!0)}function i(e){const t=e,o=t.querySelector("label > img"),n=t.querySelector("select");if(t.removeAttribute("id"),o&&n)o.removeAttribute("id"),n.classList.remove("disabled-input"),n.disabled=!1;else{const e=t.querySelector(".submit");e.removeAttribute("id"),e.disabled=!1}}const d=[document.getElementById("four-year"),document.getElementById("major"),document.getElementById("class")],u=document.querySelector(".submit"),p=document.querySelector("dialog"),y=document.querySelector(".close-dialog");document.addEventListener("DOMContentLoaded",(()=>{for(let e=1;e<d.length;)d[e].parentNode&&(a(d[e].parentNode),e+=1);a(u),async function(e){const a=e.parentElement,i=a.querySelector(".loading"),d=a.querySelectorAll(":not(.loading)");n.showModal(),n.style.opacity=1,s(d),r(i);const u=await async function(){try{const e="https://classglance.onrender.com/schools/four-years",t=await fetch(e),o=await t.json();return Object.values(o)}catch(e){return console.error("Error fetching schools:",e),null}}(),p=e,y=o("school");p.appendChild(y),u.forEach((e=>{if(e.id<200){const o=t(e.name,e.id);p.appendChild(o)}})),n.style.opacity=0,n.close(),c(i),l(d)}(d[0])})),d[0].addEventListener("input",(()=>{const e=d[0],n=d[1],a=e.options[e.selectedIndex].dataset.sending;i(e.parentNode),async function(e,n){const a=e.parentElement,i=a.querySelector(".loading"),d=a.querySelectorAll(":not(.loading)");s(d),r(i);const u=await async function(e){try{const t=`https://classglance.onrender.com/schools/major-data/${e}/74`,o=await fetch(t),n=await o.json();return Object.values(n)}catch(t){return console.error(`Error fetching majors for ${e}:`,t),null}}(n),p=e,y=o("major");p.appendChild(y),u.forEach((e=>{const o=t(e.major,e.key);p.appendChild(o)})),c(i),l(d)}(n,a),i(n.parentNode)})),y.addEventListener("click",(()=>{p.close()}))})();