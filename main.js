(()=>{"use strict";var e={};function t(e,t){const n=document.createElement("option");return n.textContent=e,n.value=e,n.setAttribute("data-sending",t),n}function n(e){const t=document.createElement("option");return t.textContent=`Select a ${e}`,t.value="",t.disabled=!0,t.selected=!0,t}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=o[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p;const o=document.querySelector("dialog");function r(e){const t=e;t.style.display="block",t.style.opacity=1}function c(e){const t=e;t.style.opacity=0,t.style.display="none"}function a(e){const t=e,n=t.querySelector("select"),o=t.querySelectorAll(":not(.loading)");n&&(n.disabled=!0),o.forEach((e=>{e.setAttribute("aria-disabled","true")}))}function l(e){const t=e,n=t.querySelector("select"),o=t.querySelectorAll(":not(.loading)");n&&(n.disabled=!1),o.forEach((e=>{e.setAttribute("aria-disabled","false")}))}const s=[document.getElementById("four-year"),document.getElementById("major"),document.getElementById("class")],i=document.querySelector(".submit"),d=document.querySelector("dialog"),u=document.querySelector(".close-dialog");document.addEventListener("DOMContentLoaded",(()=>{for(let e=1;e<s.length;)s[e].parentNode&&(a(s[e].parentNode),e+=1);a(i.parentNode),async function(e){const s=e.parentElement,i=s.querySelector(".loading");s.querySelectorAll(":not(.loading)"),o.showModal(),o.style.opacity=1,a(e.parentNode),r(i);const d=await async function(){try{const e="https://classglance.onrender.com/schools/four-years",t=await fetch(e),n=await t.json();return Object.values(n)}catch(e){return console.error("Error fetching schools:",e),null}}(),u=e,p=n("school");u.appendChild(p),d.forEach((e=>{if(e.id<200){const n=t(e.name,e.id);u.appendChild(n)}})),o.style.opacity=0,o.close(),c(i),l(e.parentNode)}(s[0])})),s[0].addEventListener("input",(()=>{const e=s[0],o=s[1],i=e.options[e.selectedIndex].dataset.sending;l(e.parentNode),async function(e,o){const s=e.parentElement.querySelector(".loading");a(e.parentNode),r(s);const i=await async function(e){try{const t=`https://classglance.onrender.com/schools/major-data/${e}/74`,n=await fetch(t),o=await n.json();return Object.values(o)}catch(t){return console.error(`Error fetching majors for ${e}:`,t),null}}(o),d=e,u=n("major");d.replaceChildren(),d.appendChild(u),i.forEach((e=>{const n=t(e.major,e.key);d.appendChild(n)})),c(s),l(e.parentNode)}(o,i)})),u.addEventListener("click",(()=>{d.close()}))})();